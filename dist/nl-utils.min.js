angular.module("com.newland.util",[]).factory("StringUtils",function(){return{isEmpty:function(t){return void 0==t||""==t||t=={}||t.length<1?!0:!1},isNotEmpty:function(t){return!this.isEmpty(t)},lpad:function(t,e,n){if(t+="",t.length>=e)return t;for(var r=t;r.length<e;)r=n+r;return r},rpad:function(t,e,n){if(t+="",t.length>=e)return t;for(var r=t;r.length<e;)r+=n;return r},isNumber:function(t){return void 0==t||""==t?!1:/^\d+$/.test(t)},isPid:function(t){return this.isEmpty(t)?!1:/^\d{6}(19|20)\d{2}(0\d|10|11|12)((0|1|2)\d|30|31)\d{3}(X|x|\d)/.test(t)},isNull:function(t,e,n){return 0==this.isEmpty(t)?t:0==this.isEmpty(e)?e:n},isMobile:function(t){return this.isEmpty(t)?!1:/^(\+\d{2,3}\-)?\d{11}$/.test(t)},isTel:function(t){return this.isEmpty(t)?!1:/^(\d{3}-\d{8}|\d{4}-\d{7,8})(\-\d{1,4})?$/.test(t)},isQQ:function(t){return this.isEmpty(t)?!1:/^\d{5,20}$/.test(t)},isWechat:function(t){return this.isEmpty(t)?!1:/^[a-zA-Z]{1}[-_a-zA-Z0-9]{5,19}$/.test(t)}}}).factory("DateUtils",["StringUtils",function(t){return{formatDate:function(e){return void 0!=e?"object"!=typeof e?e:e.getYear()+1900+"-"+t.lpad(e.getMonth()+1,2,"0")+"-"+t.lpad(e.getDate(),2,"0"):void 0},formatTime:function(e){return void 0!=e?"object"!=typeof e?e:t.lpad(e.getHours(),2,"0")+":"+t.lpad(e.getMinutes(),2,"0")+":"+t.lpad(e.getSeconds(),2,"0"):void 0},timestamp:function(t){var e=t?t:new Date;return Date.parse(e)},today:function(){var t=new Date;return this.formatDate(t)},getNowTime:function(){return this.formatDate(new Date)},getNowDate:function(){var t,e;return e=new Date,t=e.getUTCFullYear()+"-",t+=("00"+(e.getUTCMonth()+1)).slice(-2)+"-",t+=("00"+e.getUTCDate()).slice(-2)},getDiffDays:function(t){var e,n,r,i;return r=(new Date).getTime(),i=1e3*t*3600*24,r+=i,n=new Date(r),e=n.getUTCFullYear()+"-",e+=("00"+(n.getUTCMonth()+1)).slice(-2)+"-",e+=("00"+n.getUTCDate()).slice(-2)}}}]).factory("MoneyUtils",["$locale",function(t){return{formatMoney:function(e,n,r){var i=t.NUMBER_FORMATS;return void 0==n&&(n=i.CURRENCY_SYM),void 0==r&&(r=i.PATTERNS[1].maxFrac),null==e?e:this.formatNumber(e,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,r).replace(/\u00A4/g," "+n)},formatNumber:function(t,e,n,r,i){var a=".";if(angular.isObject(t))return"";var o=0>t;t=Math.abs(t);var u=t===1/0;if(!u&&!isFinite(t))return"";var s=t+"",f="",l=!1,c=[];if(u&&(f="âˆž"),!u&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>i+1?t=0:(f=s,l=!0)}if(u||l)i>0&&1>t&&(f=t.toFixed(i),t=parseFloat(f),f=f.replace(a,r));else{var g=(s.split(a)[1]||"").length;angular.isUndefined(i)&&(i=Math.min(Math.max(e.minFrac,g),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var h=(""+t).split(a),m=h[0];h=h[1]||"";var p,v=0,y=e.lgSize,D=e.gSize;if(m.length>=y+D)for(v=m.length-y,p=0;v>p;p++)(v-p)%D===0&&0!==p&&(f+=n),f+=m.charAt(p);for(p=v;p<m.length;p++)(m.length-p)%y===0&&0!==p&&(f+=n),f+=m.charAt(p);for(;h.length<i;)h+="0";i&&"0"!==i&&(f+=r+h.substr(0,i))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,f,o?e.negSuf:e.posSuf),c.join("")}}}]);